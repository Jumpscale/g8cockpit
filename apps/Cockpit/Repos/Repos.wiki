@usedefaults

{{timestamp}}

h2. Repositories

{{datatables_use}}
{{action id:'action-Createrepository' class:'glyphicon glyphicon-plus margin-bottom-medium margin-left-medium' label:'Create Repository'}}
{{action id:'action-Commitrepositories' class:'glyphicon glyphicon-save margin-bottom-medium margin-left-medium' label:'Commit Repositories'}}
{{action id:'action-ReloadCockpit' class:'glyphicon glyphicon-refresh margin-bottom-medium margin-left-medium' label:'Reload cockpit'}}

{{actions:
- display: Create repository
  action: /restmachine/cockpit/atyourservice/createRepo
  hide: true
  input:
    - name: name
      label: Name
      type: text
      default: ''
- display: Commit repositories
  action: /restmachine/cockpit/atyourservice/commit
  showresponse: True
  hide: true
  input:
    - name: branch
      label: Branch
      type: text
      default: 'master'
    - name: push
      label: push
      type: dropdown
      values:
         - label: True
           value: True
         - label: False
           value: False
    - name: message
      label: Commit message
      type: text

- display: Delete this repository
  hide: true
  reload: false
  action: /restmachine/cockpit/atyourservice/deleteRepo

- display: Reload Cockpit
  hide: true
  action: /restmachine/cockpit/atyourservice/reload
  showresponse: True
}}

{{aysrepos}}
||Name||Actions||
{% for repo in repos -%}
|[${repo}|/cockpit/repo?repo=${repo}]| {{action label:'Delete' deleterow:true id:'action-Deletethisrepository' data-repository:'${repo}' class:'glyphicon glyphicon-trash'}} |
{% else %}
The is no AYS repository yet.
Create one by clicking 'Create Repository'
{% endfor %}
