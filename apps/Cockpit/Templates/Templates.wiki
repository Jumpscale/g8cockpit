@usedefaults

{{timestamp}}

{{datatables_use}}

h3. Templates
{{action id:'action-Addtemplatesrepository' class:'glyphicon glyphicon-plus margin-bottom-medium margin-left-medium' label:'Add templates repository'}}

{{aystemplates: ayspath:$$ayspath}}
{% if error is defined -%}
    Error : ${error}
{% else %}
    ||Repository||Name||
    {% for repo, templates in templates.items() -%}
    {% for template in templates -%}
    | [${repo}|/cockpit/repo?repo=${repo}] | [${template['name']}|cockpit/Template?ayspath=${repo}&aysname=${template['name']}] |
    {% endfor -%}
    {% else %}
    No service template
    {% endfor %}
{% endif %}

{{actions:
- display: Add templates repository
  action: /restmachine/cockpit/atyourservice/addTemplateRepo
  hide: true
  showresponse: true
  reload: true
  input:
    - name: url
      label: URL
      type: text
    - name: branch
      label: Branch
      type: text
      default: 'master'
      placeholder: 'master'
}}
